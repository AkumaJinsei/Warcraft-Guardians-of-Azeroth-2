namespace = WCRAC

# Sets race not looking at genes
WCRAC.10 = {
	type = character_event
	hidden = yes
	
	trigger = {
		NOT = { has_character_flag = race_giving_fired_flag }
	}
	
	immediate = {
		try_to_set_race_effect = { FLAG = no_gene }
	}
}

# Sets race looking at genes
WCRAC.20 = {
	type = character_event
	hidden = yes
	
	trigger = {
		NOT = { has_character_flag = race_giving_fired_flag }
	}
	
	immediate = {
		try_to_set_race_effect = { FLAG = gene }
	}
}

# Sets race on game start
WCRAC.30 = {
	type = character_event
	hidden = yes
	
	immediate = {
		if = {
			limit = {
				NOT = { has_character_flag = race_giving_fired_flag }
			
				has_race_trait_trigger = no
			}
			#Tries to set race flag based on trait you have
			copy_race_effect = { CHARACTER = this }
			try_to_set_race_effect = { FLAG = gene }
		}
		# Old characters become impotent
		if = {
			limit = { can_be_impotent_trigger = yes }
			add_trait = impotent
		}
	}
}
# Characters of Asexual races are set to Asexual
WCRAC.40 = {
	type = character_event
	hidden = yes
	immediate = {
		if = {
			limit = {
				OR = {
					has_trait = creature_nraqi
					has_trait = creature_annihilan 
					has_trait = creature_ancient_war
					has_trait = creature_ancient_lore
					has_trait = creature_ancient_wind
				}
			}
			#listed races become asexual
			set_sexuality = asexual
		}
	}
}